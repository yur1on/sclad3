{% extends 'warehouse/base.html' %}
{% load static %}
{% block content %}
<div class="container mt-5 mb-5">
    <h1>Общая информация</h1>

    <div class="accordion" id="accordionExample">
        <!-- Работа со складом (первая вкладка) -->
        <div class="accordion-item custom-accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour" id="warehouse">
                    Работа со складом
                </button>
            </h2>
            <div id="collapseFour" class="accordion-collapse collapse show" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <h3>Подготовка к работе со складом</h3>
                    <p>Перед началом добавления запчастей на склад заполните свои данные в вашем профиле:</p>
                    <ol>
                        <li>Перейдите в раздел <a href="{% url 'profile' %}">Профиль</a>.</li>
                        <li>Нажмите кнопку "Редактировать".</li>
                        <li>Внесите следующую информацию:
                            <ul>
                                <li>Своё имя</li>
                                <li>Номер телефона</li>
                                <li>Город</li>
                                <li>Название организации (необязательно)</li>
                                <li>Способы доставки (необязательно)</li>
                            </ul>
                        </li>
                        <li>Сохраните изменения.</li>
                    </ol>

                    <h3>Функции склада</h3>
                    <p>На складе доступны следующие элементы и функции:</p>
                    <ul>
                        <li><strong>Кнопка "Опции"</strong>: При нажатии открывается меню с возможностями:
                            <ul>
                                <li>Посмотреть все запчасти в отсортированном виде</li>
                                <li>Сделать экспорт данных в Excel</li>
                                <li>Удалить все запчасти со склада</li>
                            </ul>
                        </li>
                        <li><strong>Кнопка "Добавить запчасть"</strong>: Открывает форму для добавления новой запчасти на склад.</li>
                        <li><strong>Форма для ввода информации для поиска и кнопка "Поиск"</strong>: Позволяет искать запчасти на складе по введённым данным.</li>
                        <li><strong>Информация о количестве запчастей на складе</strong>: Отображает общее число запчастей.</li>
                        <li><strong>Кнопки устройств</strong>: Если на складе есть запчасти для телефонов и планшетов, появляются кнопки "Телефон" и "Планшет". При нажатии на кнопку (например, "Телефон") отображаются кнопки с брендами (например, "Apple"). При выборе бренда показываются кнопки моделей (например, "iPhone 13", "iPhone 14"). При выборе модели отображаются все запчасти для этой модели.</li>
                        <li><strong>Таблица запчастей</strong>: Показывает все устройства и запчасти на складе. При перемещении по кнопкам устройств, брендов и моделей таблица фильтруется, отображая только соответствующие запчасти. Кнопки меняют цвет, чтобы показать текущий выбор.</li>
                    </ul>

                    <h3>Добавление запчасти</h3>
                    <p>Чтобы добавить новую запчасть на склад, выполните следующие шаги:</p>
                    <ol>
                        <li>Нажмите кнопку "Добавить запчасть".</li>
                        <li>В открывшейся форме заполните поля:
                            <ul>
                                <li><strong>Номер запчасти</strong>: Введите вручную или отсканируйте со штрих-кода. Если оставить пустым, номер сгенерируется автоматически.</li>
                                <li><strong>Устройство</strong>: Выберите из списка (например, "Телефон", "Планшет").</li>
                                <li><strong>Бренд</strong>: Выберите из списка (важно для корректного отображения в глобальном поиске).</li>
                                <li><strong>Модель</strong>: Выберите из списка (по тем же причинам, что и для бренда).</li>
                                <li><strong>Тип запчасти</strong>: Выберите из списка (например, "Дисплей", "Аккумулятор").</li>
                                <li><strong>Состояние</strong>: Выберите из списка (например, "Новое", "Б/у").</li>
                                <li><strong>Количество</strong>: Укажите количество запчастей.</li>
                                <li><strong>Цена</strong>: Укажите цену за единицу.</li>
                                <li><strong>Примечание</strong>: Добавьте описание или примечание (необязательно).</li>
                                <li><strong>Фотографии</strong>: Загрузите изображения запчасти.</li>
                            </ul>
                        </li>
                        <li>Нажмите кнопку "Добавить запчасть".</li>
                        <li>Если запчасть, что вы добавили уже есть на складе, появится предупреждение с предложением её отредактировать.</li>
                            <img src="{% static 'images/pix.png' %}" alt="Описание изображения" class="img-fluid mb-4" style="max-width: 100%;">
                        <li>Если такой запчасти на складе нет, то она добавится, и вы сможете либо добавить ещё одну, либо вернуться на склад.</li>
                            <img src="{% static 'images/vah.png' %}" alt="Интерфейс склада" class="explanation-image ms-3">
                    </ol>

                    <h3>Редактирование и удаление запчастей</h3>
                    <p>В таблице запчастей на странице склада для каждой позиции доступны следующие действия:</p>
                    <ul>
                        <li><strong>Редактирование</strong>: Нажмите кнопку "Редактировать" напротив запчасти, чтобы изменить количество, цену, примечание или фотографии.</li>
                        <li><strong>Удаление</strong>: Нажмите кнопку "Удалить" для удаления запчасти со склада.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Тарифы -->
        <div class="accordion-item custom-accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button custom-accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" id="tariffs">
                    Тарифы
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <p>Наш проект предлагает несколько тарифов для пользователей, чтобы каждый мог выбрать подходящий вариант в зависимости от своих потребностей. Вот описание доступных тарифов:</p>
                    <ul class="tariff-list">
                        <li>
                            <strong>Бесплатный (до 30 запчастей)</strong>
                            <ul>
                                <li>Стоимость: 0 руб.</li>
                                <li>Лимиты: до 30 запчастей на складе, только одно фото для каждой запчасти, уведомления не чаще раза в 24 часа.</li>
                                <li>Описание: Подходит для тех, кто разобрал своё устройство и хочет продать его запчасти.</li>
                            </ul>
                        </li>
                        <li>
                            <strong>Базовый (до 500 запчастей)</strong>
                            <ul>
                                <li>Стоимость: от 20 руб. за 30 дней.</li>
                                <li>Лимиты: до 500 запчастей на складе.</li>
                                <li>Описание: Идеален для небольших мастерских или частных лиц с умеренным количеством запчастей. После окончания подписки в поиске видны только 30 последних запчастей.</li>
                            </ul>
                                                            <li>Механизм ограничений:
                                    <ul>
                                        <li><strong>Во время действия подписки:</strong> Вы можете добавить на свой склад до 500 запчастей. Они отображаются в вашем кабинете и глобальном поиске. Уведомления не ограничены. Например, вы добавили 500 запчастей для продажи.</li>
                                        <li><strong>После окончания подписки (30 дней):</strong> Все 500 запчастей остаются доступны в личном кабинете. В глобальном поиске видны только последние 30 запчастей, остальные 470 скрыты. Уведомления ограничены одним в 24 часа.</li>
                                        <li><strong>Через 30 дней без продления:</strong> Если подписка не продлена, все запчасти сверх 30 удаляются. Из 500 остаются только последние 30, видимые в кабинете и поиске. Остальные 470 удаляются безвозвратно. Уведомления ограничены (одно в 24 часа).</li>
                                        <li><strong>Продление подписки:</strong> Продление до 30 дней сохраняет все 500 запчастей и восстанавливает их видимость в поиске.</li>

                                    </ul>
                                </li>
                        </li>
                        <li>
                            <strong>Стандартный (до 2000 запчастей)</strong>
                            <ul>
                                <li>Стоимость: от 40 руб. за 30 дней.</li>
                                <li>Лимиты: до 2000 запчастей на складе.</li>
                                <li>Описание: Подходит для активных пользователей или мастерских среднего размера. После окончания подписки в поиске видны только 30 последних запчастей.</li>
                            </ul>
                             <li>Механизм ограничений:
                                                                <ul>
                                        <li><strong>Во время действия подписки:</strong> Вы можете добавить на свой склад до 2000 запчастей. Они отображаются в вашем кабинете и глобальном поиске. Уведомления не ограничены. Например, вы добавили 2000 запчастей для продажи.</li>
                                        <li><strong>После окончания подписки (30 дней):</strong> Все 2000 запчастей остаются доступны в личном кабинете. В глобальном поиске видны только последние 30 запчастей, остальные 1970 скрыты. Уведомления ограничены одним в 24 часа.</li>
                                        <li><strong>Через 30 дней без продления:</strong> Если подписка не продлена, все запчасти сверх 30 удаляются. Из 2000 остаются только последние 30, видимые в кабинете и поиске. Остальные 1970 удаляются безвозвратно. Уведомления ограничены (одно в 24 часа).</li>
                                        <li><strong>Продление подписки:</strong> Продление до 30 дней сохраняет все 2000 запчастей и восстанавливает их видимость в поиске.</li>
                                        <li><strong>Пример:</strong> Вы добавили 2000 запчастей. После окончания подписки в поиске видны 30 последних. Через 30 дней без продления 1970 удаляются, остаются 30, видимые в кабинете и поиске.</li>
                                    </ul>
                                </li>
                        </li>
                        <li>
                            <strong>Продвинутый (до 7000 запчастей)</strong>
                            <ul>
                                <li>Стоимость: от 70 руб. за 30 дней.</li>
                                <li>Лимиты: до 7000 запчастей на складе.</li>
                                <li>Описание: Для тех, кто занимается ремонтом и продажей запчастей в больших объёмах. После окончания подписки в поиске видны только 30 последних запчастей.</li>
                            </ul>
                                                            <li>Механизм ограничений:
                                    <ul>
                                        <li><strong>Во время действия подписки:</strong> Вы можете добавить на свой склад до 7000 запчастей. Они отображаются в вашем кабинете и глобальном поиске. Уведомления не ограничены. Например, вы добавили 7000 запчастей для продажи.</li>
                                        <li><strong>После окончания подписки (30 дней):</strong> Все 7000 запчастей остаются доступны в личном кабинете. В глобальном поиске видны только последние 30 запчастей, остальные 6970 скрыты. Уведомления ограничены одним в 24 часа.</li>
                                        <li><strong>Через 30 дней без продления:</strong> Если подписка не продлена, все запчасти сверх 30 удаляются. Из 7000 остаются только последние 30, видимые в кабинете и поиске. Остальные 6970 удаляются безвозвратно. Уведомления ограничены (одно в 24 часа).</li>
                                        <li><strong>Продление подписки:</strong> Продление до 30 дней сохраняет все 7000 запчастей и восстанавливает их видимость в поиске.</li>
                                        <li><strong>Пример:</strong> Вы добавили 7000 запчастей. После окончания подписки в поиске видны 30 последних. Через 30 дней без продления 6970 удаляются, остаются 30, видимые в кабинете и поиске.</li>
                                    </ul>
                                </li>
                        </li>
                        <li>
                            <strong>Профессиональный (до 15000 запчастей)</strong>
                            <ul>
                                <li>Стоимость: от 120 руб. за 30 дней.</li>
                                <li>Лимиты: до 15000 запчастей на складе.</li>
                                <li>Описание: Оптимален для крупных мастерских или профессионалов с большим складом. После окончания подписки в поиске видны только 30 последних запчастей.</li>
                            </ul>
                                                            <li>Механизм ограничений:
                                    <ul>
                                        <li><strong>Во время действия подписки:</strong> Вы можете добавить на свой склад до 15000 запчастей. Они отображаются в вашем кабинете и глобальном поиске. Уведомления не ограничены. Например, вы добавили 15000 запчастей для продажи.</li>
                                        <li><strong>После окончания подписки (30 дней):</strong> Все 15000 запчастей остаются доступны в личном кабинете. В глобальном поиске видны только последние 30 запчастей, остальные 14970 скрыты. Уведомления ограничены одним в 24 часа.</li>
                                        <li><strong>Через 30 дней без продления:</strong> Если подписка не продлена, все запчасти сверх 30 удаляются. Из 15000 остаются только последние 30, видимые в кабинете и поиске. Остальные 14970 удаляются безвозвратно. Уведомления ограничены (одно в 24 часа).</li>
                                        <li><strong>Продление подписки:</strong> Продление до 30 дней сохраняет все 15000 запчастей и восстанавливает их видимость в поиске.</li>
                                        <li><strong>Пример:</strong> Вы добавили 15000 запчастей. После окончания подписки в поиске видны 30 последних. Через 30 дней без продления 14970 удаляются, остаются 30, видимые в кабинете и поиске.</li>
                                    </ul>

                                </li>
                        </li>
                        <li>
                            <strong>Неограниченный (без ограничений)</strong>
                            <ul>
                                <li>Стоимость: от 300 руб. за 30 дней.</li>
                                <li>Лимиты: без ограничений по количеству запчастей.</li>
                                <li>Описание: Для максимальной активности и тех, кто хочет неограниченные возможности. После окончания подписки в поиске видны только 30 последних запчастей.</li>
                            </ul>
                                                                                    <li>Механизм ограничений:
                                    <ul>
                                        <li><strong>Во время действия подписки:</strong> Вы можете добавить на свой склад неограниченное количество запчастей. Они отображаются в вашем кабинете и глобальном поиске. Уведомления не ограничены. Например, вы добавили 50000 запчастей для продажи.</li>
                                        <li><strong>После окончания подписки (30 дней):</strong> Все 50000 запчастей остаются доступны в личном кабинете. В глобальном поиске видны только последние 30 запчастей, остальные 49970 скрыты. Уведомления ограничены одним в 24 часа.</li>
                                        <li><strong>Через 30 дней без продления:</strong> Если подписка не продлена, все запчасти сверх 30 удаляются. Из 50000 остаются только последние 30, видимые в кабинете и поиске. Остальные 49970 удаляются безвозвратно. Уведомления ограничены (одно в 24 часа).</li>
                                        <li><strong>Продление подписки:</strong> Продление до 30 дней сохраняет все 50000 запчастей и восстанавливает их видимость в поиске.</li>
                                        <li><strong>Пример:</strong> Вы добавили 50000 запчастей. После окончания подписки в поиске видны 30 последних. Через 30 дней без продления 49970 удаляются, остаются 30, видимые в кабинете и поиске.</li>
                                    </ul>
                                </li>
                        </li>
                    </ul>
                    <p>Подробности и выбор тарифа доступны в разделе <a href="{% url 'payments:choose_subscription' %}">Выбор подписки</a>.</p>
                </div>
            </div>
        </div>

        <!-- Стоимость услуг -->
        <div class="accordion-item custom-accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button custom-accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" id="service-costs">
                    Стоимость услуг
                </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <p>На сайте предусмотрены платные тарифы для расширения возможностей использования склада. Стоимость услуг зависит от выбранного тарифа и длительности подписки:</p>
                    <table class="service-cost-table">
                        <thead>
                            <tr>
                                <th>Тариф</th>
                                <th>30 дней</th>
                                <th>90 дней</th>
                                <th>180 дней</th>
                                <th>360 дней</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Базовый</td>
                                <td>20 руб.</td>
                                <td>60 руб.</td>
                                <td>120 руб.</td>
                                <td>240 руб.</td>
                            </tr>
                            <tr>
                                <td>Стандартный</td>
                                <td>40 руб.</td>
                                <td>120 руб.</td>
                                <td>240 руб.</td>
                                <td>480 руб.</td>
                            </tr>
                            <tr>
                                <td>Продвинутый</td>
                                <td>70 руб.</td>
                                <td>210 руб.</td>
                                <td>420 руб.</td>
                                <td>840 руб.</td>
                            </tr>
                            <tr>
                                <td>Профессиональный</td>
                                <td>120 руб.</td>
                                <td>360 руб.</td>
                                <td>720 руб.</td>
                                <td>1440 руб.</td>
                            </tr>
                            <tr>
                                <td>Неограниченный</td>
                                <td>300 руб.</td>
                                <td>900 руб.</td>
                                <td>1800 руб.</td>
                                <td>3600 руб.</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Для смены тарифа или продления подписки перейдите в раздел <a href="{% url 'payments:choose_subscription' %}">Выбор подписки</a>.</p>
                </div>
            </div>
        </div>

        <!-- Оплата услуг -->
        <div class="accordion-item custom-accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button custom-accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" id="payment">
                    Оплата услуг
                </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <h3>Процедура оформления подписки</h3>
                    <p>Чтобы оформить подписку на платный тариф, выполните следующие шаги:</p>
                    <ol>
                        <li>Перейдите в раздел <a href="{% url 'payments:choose_subscription' %}">Выбор подписки</a> в вашем профиле.</li>
                        <li>Выберите подходящий тариф (Базовый, Стандартный, Продвинутый, Профессиональный или Неограниченный).</li>
                        <li>Укажите длительность подписки (30, 90, 180 или 360 дней).</li>
                        <li>Нажмите "Перейти к оплате".</li>
                        <li>Произведите оплату онлайн через систему WEBPAY.</li>
                    </ol>

                    <h3>Способы оплаты</h3>
                    <p>Оплата подписки осуществляется с помощью банковской платёжной карты онлайн через систему WEBPAY.</p>

                    <h3>Правила оплаты и безопасность платежей</h3>
                    <p>Безопасный сервер WEBPAY устанавливает шифрованное соединение по защищенному протоколу TLS и конфиденциально принимает от клиента данные его платёжной карты (номер карты, имя держателя, дату окончания действия и контрольный номер банковской карточки CVC/CVC2).</p>
                    <p>Обращаем ваше внимание, что после совершения оплаты с использованием банковской карты необходимо сохранять полученные на электронный адрес карт-чеки (подтверждения об оплате) для сверки с выпиской из карт-счёта (с целью подтверждения совершённых операций в случае возникновения спорных ситуаций).</p>
                    <p>В случае, если после оплаты вы не получили подтверждение на email о подписке, обратитесь в нашу службу технической поддержки по телефону +375 29 123 45 67 или e-mail <a href="mailto:support@your-site.by">support@your-site.by</a> для решения ситуации.</p>

                    <h3>Правила возврата</h3>
                    <p>При оплате банковской платёжной картой через систему WEBPAY возврат денежных средств осуществляется на ту же карточку, с которой была произведена оплата.</p>
                    <p>Возврат наличными денежными средствами не допускается. Расчёты с потребителем при возврате уплаченной за услугу денежной суммы осуществляются в той же форме, в которой производилась оплата, если иное не предусмотрено соглашением сторон. Порядок возврата регулируется правилами платёжных систем.</p>
                    <p>Для возврата денежных средств свяжитесь с нами по телефону +375 29 123 45 67 или e-mail <a href="mailto:support@your-site.by">support@your-site.by</a>. По операциям, проведённым с ошибками, необходимо предоставить чеки или квитанции, подтверждающие ошибочное списание.</p>
                    <p>Срок возврата денежных средств на карточку, как правило, составляет 7 (семь) календарных дней и зависит от банка-эмитента, выпустившего карточку. Сумма возврата будет равняться сумме покупки.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const hash = window.location.hash;
        if (hash) {
            const targetId = hash.substring(1);
            const targetButton = document.getElementById(targetId);
            if (targetButton) {
                const collapseId = targetButton.getAttribute('data-bs-target');
                const collapseElement = document.querySelector(collapseId);
                if (collapseElement) {
                    const bsCollapse = new bootstrap.Collapse(collapseElement, { toggle: false });
                    bsCollapse.show();
                }
            }
        }
    });
</script>

<style>
.explanation-image {
    max-width: 350px;

}
    /* Стили для аккордеона и других элементов */
    .custom-accordion-item {
        border-radius: 10px;
        margin-bottom: 15px;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .custom-accordion-button {
        border-radius: 10px;
        background-color: #f8f9fa;
        color: #333;
        font-weight: 500;
        padding: 15px;
    }
    .custom-accordion-button:not(.collapsed) {
        background-color: #e9ecef;
        color: #000;
    }
    .custom-accordion-button:focus {
        box-shadow: none;
    }
    .accordion-body {
        padding: 20px;
        background-color: #fff;
        border-radius: 0 0 10px 10px;
    }
    h1, h2, h3 {
        margin-bottom: 20px;
    }

    /* Стили для списка тарифов */
    .tariff-list {
        list-style-type: none;
        padding-left: 0;
    }
    .tariff-list > li {
        margin-bottom: 20px;
    }
    .tariff-list > li > strong {
        font-size: 1.1rem;
        color: #007bff;
    }
    .tariff-list ul {
        list-style-type: disc;
        padding-left: 20px;
        margin-top: 5px;
    }
    .tariff-list ul li {
        margin-bottom: 5px;
    }

    /* Стили для таблицы стоимости услуг */
    .service-cost-table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
        font-size: 14px;
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
    }
    .service-cost-table th, .service-cost-table td {
        padding: 10px;
        text-align: center;
        border-bottom: 1px solid #dee2e6;
    }
    .service-cost-table th {
        background-color: #007bff;
        color: white;
        font-weight: 600;
    }
    .service-cost-table td {
        background-color: #f8f9fa;
    }
    .service-cost-table tr:hover td {
        background-color: #e9ecef;
    }

    /* Адаптивность */
    @media (max-width: 768px) {
        .custom-accordion-button {
            padding: 10px;
            font-size: 0.9rem;
        }
        .accordion-body {
            padding: 15px;
        }
        .container {
            margin-bottom: 40px;
        }
        .tariff-list > li > strong {
            font-size: 1rem;
        }
        .tariff-list ul {
            padding-left: 15px;
        }
        .service-cost-table {
            font-size: 12px;
        }
        .service-cost-table th, .service-cost-table td {
            padding: 8px;
        }
    }
</style>
{% endblock %}